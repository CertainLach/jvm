#![allow(non_camel_case_types)]

#[repr(u8)]
#[derive(Debug, PartialEq, Eq, Copy, Clone)]
pub enum OpCode {
    //Constants
    nop = 0,
    aconst_null,
    iconst_m1,
    iconst_0,
    iconst_1,
    iconst_2,
    iconst_3,
    iconst_4,
    iconst_5,
    lconst_0,
    lconst_1,
    fconst_0,
    fconst_1,
    fconst_2,
    dconst_0,
    dconst_1,
    bipush,
    sipush,
    ldc,
    ldc_w,
    ldc2_w,
    //Loads
    iload,
    lload,
    fload,
    dload,
    aload,
    iload_0,
    iload_1,
    iload_2,
    iload_3,
    lload_0,
    lload_1,
    lload_2,
    lload_3,
    fload_0,
    fload_1,
    fload_2,
    fload_3,
    dload_0,
    dload_1,
    dload_2,
    dload_3,
    aload_0,
    aload_1,
    aload_2,
    aload_3,
    iaload,
    laload,
    faload,
    daload,
    aaload,
    baload,
    caload,
    saload,
    //Stores
    istore,
    lstore,
    fstore,
    dstore,
    astore,
    istore_0,
    istore_1,
    istore_2,
    istore_3,
    lstore_0,
    lstore_1,
    lstore_2,
    lstore_3,
    fstore_0,
    fstore_1,
    fstore_2,
    fstore_3,
    dstore_0,
    dstore_1,
    dstore_2,
    dstore_3,
    astore_0,
    astore_1,
    astore_2,
    astore_3,
    iastore,
    lastore,
    fastore,
    dastore,
    aastore,
    bastore,
    castore,
    sastore,
    //Stack
    pop,
    pop2,
    dup,
    dup_x1,
    dup_x2,
    dup2,
    dup2_x1,
    dup2_x2,
    swap,
    //Math
    iadd,
    ladd,
    fadd,
    dadd,
    isub,
    lsub,
    fsub,
    dsub,
    imul,
    lmul,
    fmul,
    dmul,
    idiv,
    ldiv,
    fdiv,
    ddiv,
    irem,
    lrem,
    frem, //deprecated
    drem, //deprecated
    ineg,
    lneg,
    fneg, //deprecated
    dneg, //deprecated
    ishl,
    lshl,
    ishr,
    lshr,
    iushr,
    lushr,
    iand,
    land,
    ior,
    lor,
    ixor,
    lxor,
    iinc,
    //Conversions
    i2l,
    i2f,
    i2d,
    l2i,
    l2f,
    l2d,
    f2i,
    f2l,
    f2d,
    d2i,
    d2l,
    d2f,
    i2b,
    i2c,
    i2s,
    //Comparisons
    lcmp,
    fcmpl,
    fcmpg,
    dcmpl,
    dcmpg,
    ifeq,
    ifne,
    iflt,
    ifge,
    ifgt,
    ifle,
    if_icmpeq,
    if_icmpne,
    if_icmplt,
    if_icmpge,
    if_icmpgt,
    if_icmple,
    if_acmpeq,
    if_acmpne,
    //Control
    goto,
    jsr, //deprecated
    ret, //deprecated
    tableswitch,
    lookupswitch,
    ireturn,
    lreturn,
    freturn,
    dreturn,
    areturn,
    return_,
    //References
    getstatic,
    putstatic,
    getfield,
    putfield,
    invokevirtual,
    invokespecial,
    invokestatic,
    invokeinterface,
    invokedynamic,
    new,
    newarray,
    anewarray,
    arraylength,
    athrow,
    checkcast,
    instanceof,
    monitorenter,
    monitorexit,
    //Extended
    wide, //deprecated
    multianewarray,
    ifnull,
    ifnonnull,
    goto_w, //deprecated
    jsr_w,  //deprecated
    //Reserved
    breakpoint,
    impdep1 = 0xfe,
    impdep2 = 0xff,
}

impl From<u8> for OpCode {
    fn from(v: u8) -> Self {
        let codes = vec![
            OpCode::nop,
            OpCode::aconst_null,
            OpCode::iconst_m1,
            OpCode::iconst_0,
            OpCode::iconst_1,
            OpCode::iconst_2,
            OpCode::iconst_3,
            OpCode::iconst_4,
            OpCode::iconst_5,
            OpCode::lconst_0,
            OpCode::lconst_1,
            OpCode::fconst_0,
            OpCode::fconst_1,
            OpCode::fconst_2,
            OpCode::dconst_0,
            OpCode::dconst_1,
            OpCode::bipush,
            OpCode::sipush,
            OpCode::ldc,
            OpCode::ldc_w,
            OpCode::ldc2_w,
            OpCode::iload,
            OpCode::lload,
            OpCode::fload,
            OpCode::dload,
            OpCode::aload,
            OpCode::iload_0,
            OpCode::iload_1,
            OpCode::iload_2,
            OpCode::iload_3,
            OpCode::lload_0,
            OpCode::lload_1,
            OpCode::lload_2,
            OpCode::lload_3,
            OpCode::fload_0,
            OpCode::fload_1,
            OpCode::fload_2,
            OpCode::fload_3,
            OpCode::dload_0,
            OpCode::dload_1,
            OpCode::dload_2,
            OpCode::dload_3,
            OpCode::aload_0,
            OpCode::aload_1,
            OpCode::aload_2,
            OpCode::aload_3,
            OpCode::iaload,
            OpCode::laload,
            OpCode::faload,
            OpCode::daload,
            OpCode::aaload,
            OpCode::baload,
            OpCode::caload,
            OpCode::saload,
            OpCode::istore,
            OpCode::lstore,
            OpCode::fstore,
            OpCode::dstore,
            OpCode::astore,
            OpCode::istore_0,
            OpCode::istore_1,
            OpCode::istore_2,
            OpCode::istore_3,
            OpCode::lstore_0,
            OpCode::lstore_1,
            OpCode::lstore_2,
            OpCode::lstore_3,
            OpCode::fstore_0,
            OpCode::fstore_1,
            OpCode::fstore_2,
            OpCode::fstore_3,
            OpCode::dstore_0,
            OpCode::dstore_1,
            OpCode::dstore_2,
            OpCode::dstore_3,
            OpCode::astore_0,
            OpCode::astore_1,
            OpCode::astore_2,
            OpCode::astore_3,
            OpCode::iastore,
            OpCode::lastore,
            OpCode::fastore,
            OpCode::dastore,
            OpCode::aastore,
            OpCode::bastore,
            OpCode::castore,
            OpCode::sastore,
            OpCode::pop,
            OpCode::pop2,
            OpCode::dup,
            OpCode::dup_x1,
            OpCode::dup_x2,
            OpCode::dup2,
            OpCode::dup2_x1,
            OpCode::dup2_x2,
            OpCode::swap,
            OpCode::iadd,
            OpCode::ladd,
            OpCode::fadd,
            OpCode::dadd,
            OpCode::isub,
            OpCode::lsub,
            OpCode::fsub,
            OpCode::dsub,
            OpCode::imul,
            OpCode::lmul,
            OpCode::fmul,
            OpCode::dmul,
            OpCode::idiv,
            OpCode::ldiv,
            OpCode::fdiv,
            OpCode::ddiv,
            OpCode::irem,
            OpCode::lrem,
            OpCode::frem,
            OpCode::drem,
            OpCode::ineg,
            OpCode::lneg,
            OpCode::fneg,
            OpCode::dneg,
            OpCode::ishl,
            OpCode::lshl,
            OpCode::ishr,
            OpCode::lshr,
            OpCode::iushr,
            OpCode::lushr,
            OpCode::iand,
            OpCode::land,
            OpCode::ior,
            OpCode::lor,
            OpCode::ixor,
            OpCode::lxor,
            OpCode::iinc,
            OpCode::i2l,
            OpCode::i2f,
            OpCode::i2d,
            OpCode::l2i,
            OpCode::l2f,
            OpCode::l2d,
            OpCode::f2i,
            OpCode::f2l,
            OpCode::f2d,
            OpCode::d2i,
            OpCode::d2l,
            OpCode::d2f,
            OpCode::i2b,
            OpCode::i2c,
            OpCode::i2s,
            OpCode::lcmp,
            OpCode::fcmpl,
            OpCode::fcmpg,
            OpCode::dcmpl,
            OpCode::dcmpg,
            OpCode::ifeq,
            OpCode::ifne,
            OpCode::iflt,
            OpCode::ifge,
            OpCode::ifgt,
            OpCode::ifle,
            OpCode::if_icmpeq,
            OpCode::if_icmpne,
            OpCode::if_icmplt,
            OpCode::if_icmpge,
            OpCode::if_icmpgt,
            OpCode::if_icmple,
            OpCode::if_acmpeq,
            OpCode::if_acmpne,
            OpCode::goto,
            OpCode::jsr,
            OpCode::ret,
            OpCode::tableswitch,
            OpCode::lookupswitch,
            OpCode::ireturn,
            OpCode::lreturn,
            OpCode::freturn,
            OpCode::dreturn,
            OpCode::areturn,
            OpCode::return_,
            OpCode::getstatic,
            OpCode::putstatic,
            OpCode::getfield,
            OpCode::putfield,
            OpCode::invokevirtual,
            OpCode::invokespecial,
            OpCode::invokestatic,
            OpCode::invokeinterface,
            OpCode::invokedynamic,
            OpCode::new,
            OpCode::newarray,
            OpCode::anewarray,
            OpCode::arraylength,
            OpCode::athrow,
            OpCode::checkcast,
            OpCode::instanceof,
            OpCode::monitorenter,
            OpCode::monitorexit,
            OpCode::wide,
            OpCode::multianewarray,
            OpCode::ifnull,
            OpCode::ifnonnull,
            OpCode::goto_w,
            OpCode::jsr_w,
            OpCode::breakpoint,
        ];
        match codes.get(v as usize) {
            Some(op) => *op,
            None => match v {
                254 => OpCode::impdep1,
                255 => OpCode::impdep2,
                _ => unreachable!(),
            },
        }
    }
}
